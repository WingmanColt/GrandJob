@{
    Layout = null;

}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 

    <meta name="author" content="GrandJob">
    <meta name="description" content="@ViewData["Description"]">
    <meta name="keywords" content="@ViewData["Keywords"]">
    <meta charset="UTF-8">

    <title>GrandJob | @ViewData["Title"]</title>
    <!-- Favicon-->
    <link rel="icon" href="~/uploads/favicon/favicon.ico" type="image/x-icon" />

    <!--Core-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" asp-append-version="true">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" asp-append-version="true">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" asp-append-version="true">

    <link rel="stylesheet" href="~/theme_superio/css/style.min.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/theme_superio/css/responsive.min.css" asp-append-version="true" />

    <script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js" async></script>
</head>

<body data-anm=".anm">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    @RenderBody()

  <script src="~/theme_superio/js/popper.min.js"></script>
  <script src="~/theme_superio/js/chosen.min.js"></script>
  <script src="~/theme_superio/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="~/theme_superio/js/jquery.modal.min.js"></script>

  <script src="~/theme_superio/js/mmenu.polyfills.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mmenu-js/8.4.3/mmenu.min.js"></script>
  <script src="~/theme_superio/js/appear.min.js"></script>
  <script src="~/theme_superio/js/anm.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
  <script src="~/theme_superio/js/rellax.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>

  @* <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/js/dist/util.min.js" type="text/javascript"></script>*@


<script>
    $('#select-identifier').on('select2:open', function (e) {
  var container = $(this).select('select2-container');
  var position = container.offset().top;
  var availableHeight = $(window).height() - position - container.outerHeight();
  var bottomPadding = 60; // Set as needed
  $('.select2-search__field').css('max-height', (availableHeight - bottomPadding) + 'px');
  $('.select2-group').css('max-height', (availableHeight - bottomPadding) + 'px');

});

  $(function() {

    $("a[data-modal]").on('click', function(event) {

    var valueID = $(this).attr("data-id");
    var valueJobID = $(this).attr("data-JobId");
    $('#apply-modal').append('<input type="hidden" name="Id" value="'+valueID+'" />');
    
    event.preventDefault();
    this.blur();

    $('#rateForm').submit(function(event) {
    $(this).append('<input id="RInput.resumeId" type="hidden" name="RInput.resumeId" value="'+valueID+'" /> <input id="RInput.JobId" type="hidden" name="RInput.JobId" value="'+valueJobID+'" />');
    return true;
    });
    
    var userID = $(this).attr("data-user");
    $('#taskForm').submit(function(event) {
    $(this).append('<input id="TaskInput.ReceiverId" type="hidden" name="TaskInput.ReceiverId" value="'+userID+'" />');
    return true;
    });

      $($(this).data('modal')).modal({
  closeExisting: true,
  fadeDuration: 300,
  fadeDelay: 0.15
    });

      return false;
    });
  });
</script>


      <script>
    var $star_rating = $('.star-rating .fa');

var SetRatingStar = function() {
  return $star_rating.each(function() {
    if (parseInt($star_rating.siblings('input.rating-value').val()) >= parseInt($(this).data('rating'))) {
      return $(this).css('color', 'goldenrod');//.removeClass('fa-star-o').addClass('fa-star');
    } else {
      return $(this).css('color', '#a6a6a64f')//.removeClass('fa-star').addClass('fa-star-o');
    }
  });
};

$star_rating.on('click', function() {
  $star_rating.siblings('input.rating-value').val($(this).data('rating'));
  return SetRatingStar();
});

SetRatingStar();
</script>

        <script type="text/javascript">
             $(function () {
                $("#loginForm").submit(function (e) {
                 e.preventDefault();
                       var valdata = $(this).serialize();   

                $.ajax({
                    url: '/Account/Login/',
                    type: "POST",
                    dataType: 'json',   
                    contentType: 'application/x-www-form-urlencoded; charset=UTF-8',   
                    data: valdata,
                    success: function (response) {
                         location.reload(); 
                    },
                    error: function (e) {
                    var message = $("#message");
                        if (e.responseJSON) {
                            //message.css("color", "red");
                            message.html(e.responseJSON.errorMessage);
                        }
                    }

                });
            });
         });

            function CheckAvailability(valId) {
                $.ajax({
                    url: '/Jobs/UpdateFavourite/',
                    type: "POST",
                    dataType: "json",
                    data: { id: valId },
                    success: function (response) {
                        $("#favCounter").html(response.jobCount);
                       var vmTemplateName2 = "'"+valId+"-jobLi'"; 
                       var vmTemplateName3 = "'"+valId+"-heartIcon'"; 


                        if(response.isExisted == false)
                        {
                        $("#favUl").append('<li id="'+valId+'-jobLi"><a style="padding:7px 3px;" href="/jobs/info/'+valId+'"><span class="lar la-image"></span><small>'+response.job.name+'</small></a></li>');
                        $("[id="+vmTemplateName3+"]").removeClass('lar la-heart').addClass('las la-heart');
                        }
                        else
                        {
                        $("[id="+vmTemplateName2+"]").remove();
                        $("[id="+vmTemplateName3+"]").removeClass('las la-heart').addClass('lar la-heart');
                        }

                    },
                    error: function (e) {
                       
                    }

                });
            };     
            
          function CheckAvailabilityCompany(valId) {
                $.ajax({
                    url: '/Company/UpdateFavourite/',
                    type: "POST",
                    dataType: "json",
                    data: { id: valId },
                    success: function (response) {
                        $("#favCounter").html(response.jobCount);
                       var vmTemplateName2 = "'"+valId+"-companyLi'"; 
                       var vmTemplateName3 = "'"+valId+"-heartIcon'"; 

                        if(response.isExisted == false)
                        {
                        $("#favUl").append('<li id="'+valId+'-companyLi"><a style="padding:7px 3px;" href="/companies/info/'+valId+'"><span class="lar la-image"></span><small>'+response.company.title+'</small></a></li>');
                        $("[id="+vmTemplateName3+"]").removeClass('lar la-heart').addClass('las la-heart');
                        }
                        else
                        {
                        $("[id="+vmTemplateName2+"]").remove();
                        $("[id="+vmTemplateName3+"]").removeClass('las la-heart').addClass('lar la-heart');
                        }

                    },
                    error: function (e) {
                       
                    }

                });
            }; 

             function CheckAvailabilityContestants(valId) {
                $.ajax({
                    url: '/Contestants/UpdateFavourite/',
                    type: "POST",
                    dataType: "json",
                    data: { id: valId },
                    success: function (response) {
                        $("#favCounter").html(response.jobCount);
                       var vmTemplateName2 = "'"+valId+"-contestantLi'"; 
                       var vmTemplateName3 = "'"+valId+"-heartIcon'"; 

                        if(response.isExisted == false)
                        {
                        $("#favUl").append('<li id="'+valId+'-contestantLi"><a style="padding:7px 3px;" href="/candidates/info/'+valId+'"><span class="lar la-image"></span><small>'+response.contestant.fullName+'</small></a></li>');
                        $("[id="+vmTemplateName3+"]").removeClass('lar la-heart').addClass('las la-heart');
                        }
                        else
                        {
                        $("[id="+vmTemplateName2+"]").remove();
                        $("[id="+vmTemplateName3+"]").removeClass('las la-heart').addClass('lar la-heart');
                        }

                    },
                    error: function (e) {
                       
                    }

                });
            }; 
        </script>

    @await RenderSectionAsync("Scripts", required: false)

    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
    <script src="~/theme_superio/js/script.min.js"></script>

    @await Component.InvokeAsync("NToastNotify")

</body>
</html>
